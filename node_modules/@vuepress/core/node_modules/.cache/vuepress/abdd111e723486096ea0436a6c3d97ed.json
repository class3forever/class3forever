{"remainingRequest":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js??vue-loader-options!D:\\workspace\\play-around\\class-three-forever\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\workspace\\play-around\\class-three-forever\\node_modules\\vue-loader\\lib\\index.js??ref--1-1!D:\\workspace\\play-around\\class-three-forever\\node_modules\\@vuepress\\markdown-loader\\index.js??ref--1-2!D:\\workspace\\play-around\\class-three-forever\\src\\_posts\\2020-06-27-深入 JS 之 Promise.md?vue&type=template&id=f402af7c&","dependencies":[{"path":"D:\\workspace\\play-around\\class-three-forever\\src\\_posts\\2020-06-27-深入 JS 之 Promise.md","mtime":1622987911806},{"path":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\@vuepress\\markdown-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkgewogIHZhciBfdm0gPSB0aGlzCiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50CiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oCiAgcmV0dXJuIF9jKAogICAgIkNvbnRlbnRTbG90c0Rpc3RyaWJ1dG9yIiwKICAgIHsgYXR0cnM6IHsgInNsb3Qta2V5IjogX3ZtLiRwYXJlbnQuc2xvdEtleSB9IH0sCiAgICBbCiAgICAgIF9jKCJwIiwgWwogICAgICAgIF92bS5fdigi5pys56+H5Y2a5a6i5Li76KaB5piv5a+5IEphdmNzY3JpcHQg5byC5q2l57yW56iLIFByb21pc2Ug55qE5a2m5Lmg55CG6KejXG4iKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJoMiIsIHsgYXR0cnM6IHsgaWQ6ICLln7rmnKzmpoLlv7UiIH0gfSwgWwogICAgICAgIF9jKAogICAgICAgICAgImEiLAogICAgICAgICAgeyBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLCBhdHRyczogeyBocmVmOiAiI+WfuuacrOamguW/tSIgfSB9LAogICAgICAgICAgW192bS5fdigiIyIpXQogICAgICAgICksCiAgICAgICAgX3ZtLl92KCIg5Z+65pys5qaC5b+1IikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFtfYygic3Ryb25nIiwgW192bS5fdigiTUROIOWvuSBQcm9taXNlIOeahOWumuS5ie+8miIpXSldKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJibG9ja3F1b3RlIiwgWwogICAgICAgIF9jKCJwIiwgWwogICAgICAgICAgX3ZtLl92KCJQcm9taXNlIOaYr+S4gOS4quWvueixoe+8jOWug+S7o+ihqOS6huS4gOS4quW8guatpeaTjeS9nOeahOacgOe7iOWujOaIkOaIluiAheWksei0peOAgiIpCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoCiAgICAgICAgICAiUHJvbWlzZSDop6PlhrPnmoTkuLvopoHmmK/lvILmraXnvJbnoIHpo47moLznmoTpl67popjvvIzljbPop6PlhrPlm57osIPlnLDni7HnmoTpl67popjjgILlnKjlvIDlj5HkuIDkupvnqI3lpI3mnYLngrnpobnnm67ml7bvvIzkvaDkvJrlj5HnjrDvvIzlpoLmnpzltYzlpZfkuoblpKrlpJrnmoTlm57osIPlh73mlbDlsLHlvojlrrnmmJPkvb/lvpfoh6rlt7HpmbflhaXkuoblm57osIPlnLDni7HvvIzkuI3og73oh6rmi5TjgILkvaDlj6/ku6Xlj4LogIPkuIvpnaLov5nmrrXorqnkurrlh4zkubHnmoTku6PnoIHvvJoiCiAgICAgICAgKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIiB9LCBbCiAgICAgICAgX2MoInByZSIsIHsgcHJlOiB0cnVlLCBhdHRyczogeyBjbGFzczogImxhbmd1YWdlLXRleHQiIH0gfSwgWwogICAgICAgICAgX2MoImNvZGUiLCBbCiAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAiWEZldGNoKG1ha2VSZXF1ZXN0KCdodHRwczovL3h4eCcpLFxuICAgICAgZnVuY3Rpb24gcmVzb2x2ZShyZXNwb25zZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgICAgICAgIFhGZXRjaChtYWtlUmVxdWVzdCgnaHR0cHM6Ly94eHgnKSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZShyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICBYRmV0Y2gobWFrZVJlcXVlc3QoJ2h0dHBzOi8veHh4JylcbiAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0KGUpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgICAgICAgIH0pXG4gICAgICB9LCBmdW5jdGlvbiByZWplY3QoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICB9KVxuIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoCiAgICAgICAgICAi6L+Z5q615Luj56CB5piv5YWI6K+35rGC56ys5LiA5Liq5o6l5Y+j77yM5aaC5p6c6K+35rGC5oiQ5Yqf55qE6K+d77yM6YKj5LmI5YaN6K+35rGC56ys5LqM5Liq5o6l5Y+j77yM5aaC5p6c5YaN5qyh6K+35rGC5oiQ5Yqf55qE6K+d77yM5bCx57un57ut6K+35rGC5pyA5ZCO5LiA5Liq5o6l5Y+j44CC5Lmf5bCx5piv6K+06L+Z5q615Luj56CB55So5LqG5LiJ5bGC5bWM5aWX6K+35rGC77yM5bCx5bey57uP6K6p5Luj56CB5Y+Y5b6X5re35Lmx5LiN5aCq77yM5b2T5LiK6L+w6ZyA5rGC5Lit5Ye6546w56ys5Zub5Liq6K+35rGC77yI55Sa6Iez5pu05aSa77yJ5LuN54S25L6d6LWW5LiK5LiA5Liq6K+35rGC55qE5pe25YCZ77yM5Luj56CB5bCx5Lya5Y+Y5oiQ5LiA5Zy654G+6Zq+44CCIgogICAgICAgICkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFtfdm0uX3YoIui/meauteS7o+eggeS5i+aJgOS7peeci+S4iuWOu+W+iOS5se+8jOW9kue7k+WFtuWOn+WboOacieS4pOeCue+8miIpXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygidWwiLCBbCiAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgX2MoInN0cm9uZyIsIFtfdm0uX3YoIuesrOS4gOaYr+W1jOWll+iwg+eUqCIpXSksCiAgICAgICAgICBfdm0uX3YoIu+8jOS4i+mdoueahOS7u+WKoeS+nei1luS4iuS4quS7u+WKoeeahOivt+axgue7k+aenO+8jOW5tiIpLAogICAgICAgICAgX2MoInN0cm9uZyIsIFtfdm0uX3YoIuWcqOS4iuS4quS7u+WKoeeahOWbnuiwg+WHveaVsOWGhemDqOaJp+ihjOaWsOeahOS4muWKoemAu+i+kSIpXSksCiAgICAgICAgICBfdm0uX3YoIu+8jOi/meagt+W9k+W1jOWll+WxguasoeWkmuS6huS5i+WQju+8jOS7o+eggeeahOWPr+ivu+aAp+WwseWPmOW+l+mdnuW4uOW3ruS6huOAgiIpCiAgICAgICAgXSksCiAgICAgICAgX3ZtLl92KCIgIiksCiAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgX2MoInN0cm9uZyIsIFtfdm0uX3YoIuesrOS6jOaYr+S7u+WKoeeahOS4jeehruWumuaApyIpXSksCiAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICLvvIzmiafooYzmr4/kuKrku7vliqHpg73mnInkuKTnp43lj6/og73nmoTnu5PmnpzvvIjmiJDlip/miJbogIXlpLHotKXvvInvvIzmiYDku6XkvZPnjrDlnKjku6PnoIHkuK3lsLHpnIDopoHlr7nmr4/kuKrku7vliqHnmoTmiafooYznu5PmnpzlgZrkuKTmrKHliKTmlq3vvIzov5nnp43lr7nmr4/kuKrku7vliqHpg73opoHov5vooYzkuIDmrKHpop3lpJbnmoTplJnor6/lpITnkIbnmoTmlrnlvI/vvIzmmI7mmL7lop7liqDkuobku6PnoIHnmoTmt7fkubHnqIvluqbjgIIiCiAgICAgICAgICApCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFtfdm0uX3YoIui/meaXtu+8jOaIkeS7rOWPr+iDveS8muW4jOacm++8miIpXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygidWwiLCBbCiAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgX3ZtLl92KCJbeF0gIiksCiAgICAgICAgICBfYygic3Ryb25nIiwgW192bS5fdigi56ys5LiA5piv5raI54Gt5bWM5aWX6LCD55So77ybIildKQogICAgICAgIF0pLAogICAgICAgIF92bS5fdigiICIpLAogICAgICAgIF9jKCJsaSIsIFsKICAgICAgICAgIF92bS5fdigiW3hdICIpLAogICAgICAgICAgX2MoInN0cm9uZyIsIFtfdm0uX3YoIuesrOS6jOaYr+WQiOW5tuWkmuS4quS7u+WKoeeahOmUmeivr+WkhOeQhiIpXSksCiAgICAgICAgICBfdm0uX3YoIuOAgiIpCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFsKICAgICAgICBfYygic3Ryb25nIiwgW192bS5fdigiUHJvbWlzZSDkuLvopoHpgJrov4fkuIvpnaLkuKTmraXop6PlhrPltYzlpZflm57osIPpl67popjnmoTjgIIiKV0pCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoIm9sIiwgWwogICAgICAgIF9jKCJsaSIsIFsKICAgICAgICAgIF9jKCJwIiwgWwogICAgICAgICAgICBfYygic3Ryb25nIiwgW192bS5fdigi6aaW5YWI77yMUHJvbWlzZSDlrp7njrDkuoblm57osIPlh73mlbDnmoTlu7bml7bnu5HlrpoiKV0pLAogICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgIuOAguWbnuiwg+WHveaVsOeahOW7tuaXtue7keWumuWcqOS7o+eggeS4iuS9k+eOsOWwseaYr+WFiOWIm+W7uiBQcm9taXNlIOWvueixoSBwcm9taXNlMe+8jOmAmui/hyBQcm9taXNlIOeahOaehOmAoOWHveaVsCBleGVjdXRvciDmnaXmiafooYzkuJrliqHpgLvovpHvvJvliJvlu7rlpb0gUHJvbWlzZSDlr7nosaEgcHJvbWlzZTEg5LmL5ZCO77yM5YaN5L2/55SoIHByb21pc2UxLnRoZW4g5p2l6K6+572u5Zue6LCD5Ye95pWw44CCIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pLAogICAgICAgIF92bS5fdigiICIpLAogICAgICAgIF9jKCJsaSIsIFsKICAgICAgICAgIF9jKCJwIiwgWwogICAgICAgICAgICBfYygic3Ryb25nIiwgWwogICAgICAgICAgICAgIF92bS5fdigi5YW25qyh77yM6ZyA6KaB5bCG5Zue6LCD5Ye95pWwIG9uUmVzb2x2ZSDnmoTov5Tlm57lgLznqb/pgI/liLDmnIDlpJblsYIiKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICLjgILlm6DkuLrmiJHku6zkvJrmoLnmja4gb25SZXNvbHZlIOWHveaVsOeahOS8oOWFpeWAvOadpeWGs+WumuWIm+W7uuS7gOS5iOexu+Wei+eahCBQcm9taXNlIOS7u+WKoe+8jOWIm+W7uuWlveeahCBQcm9taXNlIOWvueixoemcgOimgei/lOWbnuWIsOacgOWkluWxgu+8jOi/meagt+WwseWPr+S7peaRhuiEseW1jOWll+W+queOr+S6huOAguS7o+eggeWmguS4i++8miIKICAgICAgICAgICAgKQogICAgICAgICAgXSkKICAgICAgICBdKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIiB9LCBbCiAgICAgICAgX2MoInByZSIsIHsgcHJlOiB0cnVlLCBhdHRyczogeyBjbGFzczogImxhbmd1YWdlLXRleHQiIH0gfSwgWwogICAgICAgICAgX2MoImNvZGUiLCBbCiAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAibGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKDEpXG4gICAgcmVzb2x2ZSgnc3VjY2VzcycpXG59KVxuXG4vLyB0aGVuIOaWueazleW7tui/n+e7keWumiDov5Tlm57lgLznqb/pgI/otYvnu5kgcDJcbmxldCBwMiA9IHByb21pc2UxLnRoZW4ocmVzID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgcmV0dXJuIDJcbn0pXG5zZXRUaW1lb3V0KCgpID0+IHtcbiAgIGNvbnNvbGUubG9nKHAyKSBcbn0pXG4vLyDovpPlh7ogMSAsc3VjY2VzcywgMlxuIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoCiAgICAgICAgICAiUHJvbWlzZSDpgJrov4flm57osIPlh73mlbDlu7bov5/nu5Hlrprlkozlm57osIPlh73mlbDov5Tlm57lgLznqb/pgI/nmoTmioDmnK/vvIzop6PlhrPkuoblvqrnjq/ltYzlpZfjgIJcbuaOpeS4i+adpeaIkeS7rOWGjeadpeeci+eciyBQcm9taXNlIOaYr+aAjuS5iOWkhOeQhuW8guW4uOeahO+8miIKICAgICAgICApCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiIH0sIFsKICAgICAgICBfYygicHJlIiwgeyBwcmU6IHRydWUsIGF0dHJzOiB7IGNsYXNzOiAibGFuZ3VhZ2UtdGV4dCIgfSB9LCBbCiAgICAgICAgICBfYygiY29kZSIsIFsKICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICdcbmZ1bmN0aW9uIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGxldCByYW5kID0gTWF0aC5yYW5kb20oKTtcbiAgICBjb25zb2xlLmxvZygxKVxuICAgIGNvbnNvbGUubG9nKHJhbmQpXG4gICAgaWYgKHJhbmQgPiAwLjUpXG4gICAgICAgIHJlc29sdmUoKVxuICAgIGVsc2VcbiAgICAgICAgcmVqZWN0KClcbn1cbnZhciBwMCA9IG5ldyBQcm9taXNlKGV4ZWN1dG9yKTtcblxudmFyIHAxID0gcDAudGhlbigodmFsdWUpID0+IHtcbiAgICBjb25zb2xlLmxvZygic3VjY2VlZC0xIilcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZXhlY3V0b3IpXG59KVxucDEuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coImVycm9yIilcbn0pXG5jb25zb2xlLmxvZygyKVxuJwogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoCiAgICAgICAgICAi5LiK6Z2iIHAwLCBwMSDml6Dorrrlk6rkuKrlr7nosaHmiqXplJnpg73lj6/ku6XlnKjmnIDlkI4gY2F0Y2gg6YeM6Z2i5o2V6I635Yiw44CCXG7kuYvmiYDku6Xlj6/ku6Xkvb/nlKjmnIDlkI7kuIDkuKrlr7nosaHmnaXmjZXojrfmiYDmnInlvILluLjvvIzmmK/lm6DkuLogUHJvbWlzZSDlr7nosaHnmoTplJnor6/lhbfmnInigJzlhpLms6HigJ3mgKfotKjvvIzkvJrkuIDnm7TlkJHlkI7kvKDpgJLvvIznm7TliLDooqsgb25SZWplY3Qg5Ye95pWw5aSE55CG5oiWIGNhdGNoIOivreWPpeaNleiOt+S4uuatouOAguWFt+Wkh+S6hui/meagt+KAnOWGkuazoeKAneeahOeJueaAp+WQju+8jOWwseS4jemcgOimgeWcqOavj+S4qiBQcm9taXNlIOWvueixoeS4reWNleeLrOaNleiOt+W8guW4uOS6huOAgiIKICAgICAgICApCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImgyIiwgeyBhdHRyczogeyBpZDogIuWOn+eQhuWJluaekCIgfSB9LCBbCiAgICAgICAgX2MoCiAgICAgICAgICAiYSIsCiAgICAgICAgICB7IHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsIGF0dHJzOiB7IGhyZWY6ICIj5Y6f55CG5YmW5p6QIiB9IH0sCiAgICAgICAgICBbX3ZtLl92KCIjIildCiAgICAgICAgKSwKICAgICAgICBfdm0uX3YoIiDljp/nkIbliZbmnpAiKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJwIiwgWwogICAgICAgIF92bS5fdigKICAgICAgICAgICLkuIrpnaLmiJHku6zkuobop6MgUHJvbWlzZSDnmoTlrp7njrDkuLvopoHmmK/pgJrov4flu7bov5/lm57osIPjgIHov5Tlm57lgLznqb/pgI/ku6Xlj4rplJnor6/nmoTigJjlhpLms6HigJnmjZXojrfjgIIiCiAgICAgICAgKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJwIiwgWwogICAgICAgIF92bS5fdigKICAgICAgICAgICLmjqXkuIvmnaXvvIzmiJHku6zpgJrov4fmupDnoIHlrp7njrDmnaXmm7Tmt7HlsYLmrKHnmoTnkIbop6Pov5nkupvmioDmnK/lrp7njrDvvIzmt7HlhaXnkIbop6MgUHJvbWlzZeOAgiIKICAgICAgICApCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImgzIiwgeyBhdHRyczogeyBpZDogIuaegeeugHByb21pc2Xpm4/lvaIiIH0gfSwgWwogICAgICAgIF9jKAogICAgICAgICAgImEiLAogICAgICAgICAgeyBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLCBhdHRyczogeyBocmVmOiAiI+aegeeugHByb21pc2Xpm4/lvaIiIH0gfSwKICAgICAgICAgIFtfdm0uX3YoIiMiKV0KICAgICAgICApLAogICAgICAgIF92bS5fdigiIOaegeeugFByb21pc2Xpm4/lvaIiKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIiB9LCBbCiAgICAgICAgX2MoInByZSIsIHsgcHJlOiB0cnVlLCBhdHRyczogeyBjbGFzczogImxhbmd1YWdlLXRleHQiIH0gfSwgWwogICAgICAgICAgX2MoImNvZGUiLCBbCiAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAiZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICB0aGlzLnZhbHVlID0gbnVsbCAgIC8vIOWtmOWCqCByZXNvbHZlZCDnmoTlgLxcbiAgdGhpcy5yZWFzb24gPSBudWxsIC8vIOWtmOWCqCByZWplY3RlZCDnmoTlgLxcbiAgdGhpcy5vbkZ1bGZpbGxlZEFycmF5ID0gW10gLy8g5Y+v6IO95ZCM5pe25pyJ5aSa5Liq5Zue6LCD77yM55So5pWw57uE5p2l5a2Y5YKoXG4gIHRoaXMub25SZWplY3RlZEFycmF5ID0gW10gLy/lj6/og73lkIzml7bmnInlpJrkuKrlm57osIPvvIznlKjmlbDnu4TmnaXlrZjlgqhcblxuICBjb25zdCByZXNvbHZlID0gdmFsdWUgPT4ge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZVxuICAgIHRoaXMub25GdWxmaWxsZWRBcnJheS5mb3JFYWNoKGZ1bmMgPT4ge1xuICAgICAgZnVuYyh2YWx1ZSlcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgcmVqZWN0ID0gcmVhc29uID0+IHtcbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvblxuICAgIHRoaXMub25SZWplY3RlZEFycmF5LmZvckVhY2goZnVuYyA9PiB7XG4gICAgICBmdW5jKHJlYXNvbilcbiAgICB9KVxuICB9XG4gIFxuICAgZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgICB0aGlzLm9uRnVsZmlsbGVkQXJyYXkucHVzaChvbmZ1bGZpbGxlZClcbiAgICB0aGlzLm9uUmVqZWN0ZWRBcnJheS5wdXNoKG9ucmVqZWN0ZWQpXG59XG4iCiAgICAgICAgICAgICkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF9jKCJwIiwgW192bS5fdigi5LiK6L+w5Luj56CB5q+U6L6D566A5Y2V77yM5aSn5qaC55qE6YC76L6R5piv6L+Z5qC355qE77yaIildKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJvbCIsIFsKICAgICAgICBfYygibGkiLCBbCiAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICLosIPnlKggdGhlbiDmlrnms5XvvIzlsIbmg7PopoHlnKggUHJvbWlzZSDlvILmraXmk43kvZzmiJDlip/ml7bmiafooYznmoTlm57osIPmlL7lhaUgb25GdWxmaWxsZWRBcnJheSDpmJ/liJfph4zvvIzlpLHotKXml7bmiafooYznmoTlm57osIPmlL7lnKggb25SZWplY3RlZEFycmF5IOmYn+WIl+mHjOOAgiIKICAgICAgICAgICkKICAgICAgICBdKSwKICAgICAgICBfdm0uX3YoIiAiKSwKICAgICAgICBfYygibGkiLCBbCiAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICLliJvlu7ogUHJvbWlzZSDlrp7kvovml7bkvKDlhaXnmoTlh73mlbDkvJrooqvotYvkuojlh73mlbDnsbvlnovnmoTlj4LmlbDvvIzljbMgcmVzb2x2ZSDlkowgcmVqZWN077yM5a6D5Lus5o6l5pS25LiA5Liq5Y+C5pWw77yM5Luj6KGo5byC5q2l5pON5L2c6L+U5Zue55qE57uT5p6c77yM5b2T5LiA5q2l5pON5L2c5omn6KGM5oiQ5Yqf5ZCO77yM55So5oi35Lya6LCD55SoIHJlc29sdmUg5pa55rOV44CC5aSx6LSl5pe277yM5Lya5omn6KGMIHJlamVjdCDmlrnms5XjgILov5nml7blgJnlhbblrp7nnJ/mraPmiafooYznmoTmk43kvZzmmK/lsIbpmJ/liJfkuK3nmoTlm57osIPkuIDkuIDmiafooYzjgIIiCiAgICAgICAgICApCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygiaDMiLCB7IGF0dHJzOiB7IGlkOiAi5Yqg5YWl5bu26L+f57uR5a6a5py65Yi2IiB9IH0sIFsKICAgICAgICBfYygKICAgICAgICAgICJhIiwKICAgICAgICAgIHsKICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgICAgICAgICAgYXR0cnM6IHsgaHJlZjogIiPliqDlhaXlu7bov5/nu5HlrprmnLrliLYiIH0KICAgICAgICAgIH0sCiAgICAgICAgICBbX3ZtLl92KCIjIildCiAgICAgICAgKSwKICAgICAgICBfdm0uX3YoIiDliqDlhaXlu7bov5/nu5HlrprmnLrliLYiKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJwIiwgWwogICAgICAgIF92bS5fdigKICAgICAgICAgICLnu4blv4PnmoTlsI/kvJnkvLTlj6/og73kvJrlj5HnjrDvvIzkuIrov7DnmoTku6PnoIHov5jlrZjlnKjkuIDkupvpl67popjvvJrlnKggdGhlbiDlm57osIPkuYvliY3vvIwgcmVzb2x2ZSDlkowgcmVqZWN0IOWHveaVsOWwseS8muaJp+ihjOOAguWboOatpO+8jOmcgOimgeWwhiByZXNvbHZlIOWSjCByZWplY3Qg55qE5omn6KGM77yM5pS+5Yiw5Lu75Yqh6Zif5YiX5Lit44CC6L+Z6YeM5aeR5LiU5YWI5pS+5YiwIHNldFRpbWVvdXQg6YeM77yM5L+d6K+B5byC5q2l5omn6KGM77yI6L+Z5qC355qE5YGa5rOV5bm25LiN5Lil6LCo77yM5Li65LqG5L+d6K+BIFByb21pc2Ug5bGe5LqOIG1pY3JvdGFza3PvvIzlvojlpJogUHJvbWlzZSDnmoTlrp7njrDlupPnlKjkuoYgTXV0YXRpb25PYnNlcnZlciDmnaXmqKHku78gbmV4dFRpY2vvvIkiCiAgICAgICAgKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIiB9LCBbCiAgICAgICAgX2MoInByZSIsIHsgcHJlOiB0cnVlLCBhdHRyczogeyBjbGFzczogImxhbmd1YWdlLXRleHQiIH0gfSwgWwogICAgICAgICAgX2MoImNvZGUiLCBbCiAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAiIGNvbnN0IHJlc29sdmUgPSB2YWx1ZSA9PiB7XG4gICAgLy8gc2V0VGltZW91dCDmqKHmi5/lvILmraXmiafooYxcbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgXG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWVcbiAgICAgIHRoaXMub25GdWxmaWxsZWRBcnJheS5mb3JFYWNoKGZ1bmMgPT4ge1xuICAgICAgICBmdW5jKHZhbHVlKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgcmVqZWN0ID0gcmVhc29uID0+IHtcbiAgICAvLyBzZXRUaW1lb3V0IOaooeaLn+W8guatpeaJp+ihjFxuICAgIHNldFRpbWVvdXQoKCkgPT4geyBcbiAgICAgIHRoaXMucmVhc29uID0gcmVhc29uXG4gICAgICB0aGlzLm9uUmVqZWN0ZWRBcnJheS5mb3JFYWNoKGZ1bmMgPT4ge1xuICAgICAgICBmdW5jKHJlYXNvbilcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygiaDMiLCB7IGF0dHJzOiB7IGlkOiAi5Yqg5YWl54q25oCBIiB9IH0sIFsKICAgICAgICBfYygKICAgICAgICAgICJhIiwKICAgICAgICAgIHsgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwgYXR0cnM6IHsgaHJlZjogIiPliqDlhaXnirbmgIEiIH0gfSwKICAgICAgICAgIFtfdm0uX3YoIiMiKV0KICAgICAgICApLAogICAgICAgIF92bS5fdigiIOWKoOWFpeeKtuaAgSIpCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbCiAgICAgICAgX3ZtLl92KAogICAgICAgICAgIlByb21pc2VzL0ErIOinhOiMg+S4reeahCBQcm9taXNlIFN0YXRlcyDkuK3mmI7noa7op4TlrprkuobvvIxwZW5kaW5nIOWPr+S7pei9rOWMluS4uiBmdWxmaWxsZWQg5oiWIHJlamVjdGVkIOW5tuS4lOWPquiDvei9rOWMluS4gOasoe+8jOS5n+WwseaYr+ivtOWmguaenCBwZW5kaW5nIOi9rOWMluWIsCBmdWxmaWxsZWQg54q25oCB77yM6YKj5LmI5bCx5LiN6IO95YaN6L2s5YyW5YiwIHJlamVjdGVk44CC5bm25LiUIGZ1bGZpbGxlZCDlkowgcmVqZWN0ZWQg54q25oCB5Y+q6IO955SxIHBlbmRpbmcg6L2s5YyW6ICM5p2l77yM5Lik6ICF5LmL6Ze05LiN6IO95LqS55u46L2s5o2i44CC5LiA5Zu+6IOc5Y2D6KiA77yaIgogICAgICAgICkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFsKICAgICAgICBfYygiaW1nIiwgewogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgc3JjOgogICAgICAgICAgICAgICJodHRwczovL3VzZXItZ29sZC1jZG4ueGl0dS5pby8yMDIwLzYvOC8xNzI5Mjg4NWZjNDU4MTFjP3c9MzUzJmg9MjYwJmY9cG5nJnM9NDAzNSIsCiAgICAgICAgICAgIGFsdDogIiIKICAgICAgICAgIH0KICAgICAgICB9KSwKICAgICAgICBfdm0uX3YoIlxu5pS56L+b5ZCO55qE5Luj56CB77yaIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImxhbmd1YWdlLSBleHRyYS1jbGFzcyIgfSwgWwogICAgICAgIF9jKCJwcmUiLCB7IHByZTogdHJ1ZSwgYXR0cnM6IHsgY2xhc3M6ICJsYW5ndWFnZS10ZXh0IiB9IH0sIFsKICAgICAgICAgIF9jKCJjb2RlIiwgWwogICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgImZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgdGhpcy5zdGF0dXMgPSAncGVuZGluZydcbiAgdGhpcy52YWx1ZSA9IG51bGxcbiAgdGhpcy5yZWFzb24gPSBudWxsXG4gIHRoaXMub25GdWxmaWxsZWRBcnJheSA9IFtdXG4gIHRoaXMub25SZWplY3RlZEFycmF5ID0gW11cblxuICBjb25zdCByZXNvbHZlID0gdmFsdWUgPT4ge1xuICAgIC8vIHNldFRpbWVvdXQg5qih5ouf5byC5q2l5omn6KGMXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IFxuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAncGVuZGluZycpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gICAgICAgIHRoaXMuc3RhdHVzID0gJ2Z1bGZpbGxlZCdcblxuICAgICAgICB0aGlzLm9uRnVsZmlsbGVkQXJyYXkuZm9yRWFjaChmdW5jID0+IHtcbiAgICAgICAgICBmdW5jKHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjb25zdCByZWplY3QgPSByZWFzb24gPT4ge1xuICAgIC8vIHNldFRpbWVvdXQg5qih5ouf5byC5q2l5omn6KGMXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IFxuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAncGVuZGluZycpIHtcbiAgICAgICAgdGhpcy5yZWFzb24gPSByZWFzb25cbiAgICAgICAgdGhpcy5zdGF0dXMgPSAncmVqZWN0ZWQnXG4gICAgICAgIFxuICAgICAgICB0aGlzLm9uUmVqZWN0ZWRBcnJheS5mb3JFYWNoKGZ1bmMgPT4ge1xuICAgICAgICAgIGZ1bmMocmVhc29uKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgaWYgKHRoaXMuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xuICAgIG9uZnVsZmlsbGVkKHRoaXMudmFsdWUpXG4gIH1cbiAgaWYgKHRoaXMuc3RhdHVzID09PSAncmVqZWN0ZWQnKSB7XG4gICAgb25yZWplY3RlZCh0aGlzLnJlYXNvbilcbiAgfVxuICBpZiAodGhpcy5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xuICAgIHRoaXMub25GdWxmaWxsZWRBcnJheS5wdXNoKG9uZnVsZmlsbGVkKVxuICAgIHRoaXMub25SZWplY3RlZEFycmF5LnB1c2gob25yZWplY3RlZClcbiAgfVxufVxuIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoCiAgICAgICAgICAi5LiK6L+w5Luj56CB55qE5oCd6Lev5piv6L+Z5qC355qE77yacmVzb2x2ZSDlkowgcmVqZWN0IOaJp+ihjOaXtu+8jOS8muWwhueKtuaAgeiuvue9ruS4uiBmdWxmaWxsZWQg5ZKMIHJlamVjdGVk77yMIOWcqOatpOS5i+WQjuiwg+eUqCB0aGVuIOa3u+WKoOeahOaWsOWbnuiwg++8jOmDveS8mueri+WNs+aJp+ihjOOAgiIKICAgICAgICApCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImgzIiwgeyBhdHRyczogeyBpZDogIumTvuW8j3Byb21pc2UiIH0gfSwgWwogICAgICAgIF9jKAogICAgICAgICAgImEiLAogICAgICAgICAgeyBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLCBhdHRyczogeyBocmVmOiAiI+mTvuW8j3Byb21pc2UiIH0gfSwKICAgICAgICAgIFtfdm0uX3YoIiMiKV0KICAgICAgICApLAogICAgICAgIF92bS5fdigiIOmTvuW8j1Byb21pc2UiKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJwIiwgW192bS5fdigi5YWI5LuO5LiL6Z2i5L6L6aKY6K+06LW377yaIildKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIiB9LCBbCiAgICAgICAgX2MoInByZSIsIHsgcHJlOiB0cnVlLCBhdHRyczogeyBjbGFzczogImxhbmd1YWdlLXRleHQiIH0gfSwgWwogICAgICAgICAgX2MoImNvZGUiLCBbCiAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAiY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZXNvbHZlKCdsdWNhcycpXG4gIH0sIDIwMDApXG59KVxuXG5wcm9taXNlLnRoZW4oZGF0YSA9PiB7XG4gIGNvbnNvbGUubG9nKGRhdGEpXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoYCR7ZGF0YX0gbmV4dCB0aGVuYClcbiAgICB9LCA0MDAwKVxuICB9KVxufSlcbi50aGVuKGRhdGEgPT4ge1xuICBjb25zb2xlLmxvZyhkYXRhKVxufSlcbiIKICAgICAgICAgICAgKQogICAgICAgICAgXSkKICAgICAgICBdKQogICAgICBdKSwKICAgICAgX2MoInAiLCBbCiAgICAgICAgX3ZtLl92KAogICAgICAgICAgIuWwhuWcqCAyIOenkuWQjui+k+WHuu+8mmx1Y2Fz77yM57Sn5o6l552A5YaN6L+HIDQg56eS5ZCO77yI56ysIDYg56eS77yJ6L6T5Ye677yabHVjYXMgbmV4dCB0aGVu44CCIgogICAgICAgICkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoCiAgICAgICAgICAi6L+Z56eN5Zy65pmv55u45L+h55SoIOi/h3Byb21pc2Ug55qE5Lq66YO955+l6YGT5Lya5pyJ5b6I5aSa77yM6YKj5LmI57G75Ly86L+Z56eN5bCx5piv5omA6LCT55qE6ZO+5byPIFByb21pc2XjgIIiCiAgICAgICAgKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJwIiwgWwogICAgICAgIF92bS5fdigKICAgICAgICAgICLkuIDkuKogUHJvbWlzZSDlrp7kvovnmoQgdGhlbiDmlrnms5XkvZMgb25mdWxmaWxsZWQg5Ye95pWw5ZKMIG9ucmVqZWN0ZWQg5Ye95pWw5Lit77yM5piv5pSv5oyB5YaN5qyh6L+U5Zue5LiA5LiqIFByb21pc2Ug5a6e5L6L55qE77yM5Lmf5pSv5oyB6L+U5Zue5LiA5Liq6Z2eIFByb21pc2Ug5a6e5L6L55qE5pmu6YCa5YC877yb5bm25LiU6L+U5Zue55qE6L+Z5LiqIFByb21pc2Ug5a6e5L6L5oiW6ICF6L+Z5Liq6Z2eIFByb21pc2Ug5a6e5L6L55qE5pmu6YCa5YC85bCG5Lya5Lyg57uZ5LiL5LiA5LiqIHRoZW4g5pa55rOVIG9uZnVsZmlsbGVkIOWHveaVsOaIluiAhSBvbnJlamVjdGVkIOWHveaVsOS4re+8jOi/meagt+WwseaUr+aMgemTvuW8j+iwg+eUqOS6huOAgiIKICAgICAgICApCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbX3ZtLl92KCLlr7kgdGhlbiDmlrnms5Xov5vooYzku6PnoIHmlLnpgKDlkI7vvJoiKV0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImRldGFpbHMiLCBbCiAgICAgICAgX2MoInN1bW1hcnkiLCBbX3ZtLl92KCIg54K55Ye75bGV5byA5a6M5pW05Luj56CBICIpXSksCiAgICAgICAgX3ZtLl92KCIgIiksCiAgICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiIH0sIFsKICAgICAgICAgIF9jKCJwcmUiLCBbCiAgICAgICAgICAgIF9jKCJjb2RlIiwgWwogICAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAgICIvLyB0aGVuIOaWueazleS4rSDlj5jph48gcmVzdWx0IOaXouWPr+S7peaYr+S4gOS4quaZrumAmuWAvO+8jOS5n+WPr+S7peaYr+S4gOS4qiBQcm9taXNlIOWunuS+i++8jOS4uuatpOaIkeS7rOaKveixoeWHuiByZXNvbHZlUHJvbWlzZSDmlrnms5Xov5vooYznu5/kuIDlpITnkIYgXG5cbmNvbnN0IHJlc29sdmVQcm9taXNlID0gKHByb21pc2UyLCByZXN1bHQsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAvLyDlvZMgcmVzdWx0IOWSjCBwcm9taXNlMiDnm7jnrYnml7bvvIzkuZ/lsLHmmK/or7Qgb25mdWxmaWxsZWQg6L+U5ZueIHByb21pc2UyIOaXtu+8jOi/m+ihjCByZWplY3RcbiAgaWYgKHJlc3VsdCA9PT0gcHJvbWlzZTIpIHtcbiAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ2Vycm9yIGR1ZSB0byBjaXJjdWxhciByZWZlcmVuY2UnKSlcbiAgfVxuXG4gIC8vIOaYr+WQpuW3sue7j+aJp+ihjOi/hyBvbmZ1bGZpbGxlZCDmiJbogIUgb25yZWplY3RlZFxuICBsZXQgY29uc3VtZWQgPSBmYWxzZVxuICBsZXQgdGhlbmFibGVcblxuICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAncGVuZGluZycpIHtcbiAgICAgIHJlc3VsdC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZTIsIGRhdGEsIHJlc29sdmUsIHJlamVjdClcbiAgICAgIH0sIHJlamVjdClcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnRoZW4ocmVzb2x2ZSwgcmVqZWN0KVxuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIGxldCBpc0NvbXBsZXhSZXN1bHQgPSB0YXJnZXQgPT4gKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpICYmICh0YXJnZXQgIT09IG51bGwpXG4gIC8vIOWmguaenOi/lOWbnueahOaYr+eWkeS8vCBQcm9taXNlIOexu+Wei1xuICBpZiAoaXNDb21wbGV4UmVzdWx0KHJlc3VsdCkpIHtcbiAgICB0cnkge1xuICAgICAgdGhlbmFibGUgPSByZXN1bHQudGhlblxuICAgICAgLy8g5aaC5p6c6L+U5Zue55qE5pivIFByb21pc2Ug57G75Z6L77yM5YW35pyJIHRoZW4g5pa55rOVXG4gICAgICBpZiAodHlwZW9mIHRoZW5hYmxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoZW5hYmxlLmNhbGwocmVzdWx0LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgaWYgKGNvbnN1bWVkKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3VtZWQgPSB0cnVlXG5cbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZVByb21pc2UocHJvbWlzZTIsIGRhdGEsIHJlc29sdmUsIHJlamVjdClcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdW1lZCA9IHRydWVcblxuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzdWx0KVxuICAgICAgfVxuXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdW1lZCA9IHRydWVcbiAgICAgIHJldHVybiByZWplY3QoZSlcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIHJlc29sdmUocmVzdWx0KVxuICB9XG59XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICBvbmZ1bGZpbGxlZCA9IHR5cGVvZiBvbmZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uZnVsZmlsbGVkIDogZGF0YSA9PiBkYXRhXG4gIG9ucmVqZWN0ZWQgPSB0eXBlb2Ygb25yZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9ucmVqZWN0ZWQgOiBlcnJvciA9PiB7dGhyb3cgZXJyb3J9XG5cbiAgLy8gcHJvbWlzZTIg5bCG5L2c5Li6IHRoZW4g5pa55rOV55qE6L+U5Zue5YC8XG4gIGxldCBwcm9taXNlMlxuXG4gIGlmICh0aGlzLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcbiAgICByZXR1cm4gcHJvbWlzZTIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyDov5nkuKrmlrDnmoQgcHJvbWlzZTIgcmVzb2x2ZWQg55qE5YC85Li6IG9uZnVsZmlsbGVkIOeahOaJp+ihjOe7k+aenFxuICAgICAgICAgIGxldCByZXN1bHQgPSBvbmZ1bGZpbGxlZCh0aGlzLnZhbHVlKVxuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UyLCByZXN1bHQsIHJlc29sdmUsIHJlamVjdClcbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgcmVqZWN0KGUpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuICBpZiAodGhpcy5zdGF0dXMgPT09ICdyZWplY3RlZCcpIHtcbiAgICByZXR1cm4gcHJvbWlzZTIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyDov5nkuKrmlrDnmoQgcHJvbWlzZTIgcmVqZWN0IOeahOWAvOS4uiBvbnJlamVjdGVkIOeahOaJp+ihjOe7k+aenFxuICAgICAgICAgbGV0IHJlc3VsdCA9IG9ucmVqZWN0ZWQodGhpcy5yZWFzb24pXG4gICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlMiwgcmVzdWx0LCByZXNvbHZlLCByZWplY3QpXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgIHJlamVjdChlKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cbiAgaWYgKHRoaXMuc3RhdHVzID09PSAncGVuZGluZycpIHtcbiAgICByZXR1cm4gcHJvbWlzZTIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLm9uRnVsZmlsbGVkQXJyYXkucHVzaCh2YWx1ZSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IG9uZnVsZmlsbGVkKHZhbHVlKVxuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UyLCByZXN1bHQsIHJlc29sdmUsIHJlamVjdClcbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICB0aGlzLm9uUmVqZWN0ZWRBcnJheS5wdXNoKHJlYXNvbiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IG9ucmVqZWN0ZWQocmVhc29uKVxuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UyLCByZXN1bHQsIHJlc29sdmUsIHJlamVjdClcbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlKVxuICAgICAgICB9XG4gICAgICB9KSAgICAgIFxuICAgIH0pXG4gIH1cbn1cbiIKICAgICAgICAgICAgICApCiAgICAgICAgICAgIF0pCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImgzIiwgeyBhdHRyczogeyBpZDogInByb21pc2Ut5YC856m/6YCPIiB9IH0sIFsKICAgICAgICBfYygKICAgICAgICAgICJhIiwKICAgICAgICAgIHsgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwgYXR0cnM6IHsgaHJlZjogIiNwcm9taXNlLeWAvOepv+mAjyIgfSB9LAogICAgICAgICAgW192bS5fdigiIyIpXQogICAgICAgICksCiAgICAgICAgX3ZtLl92KCIgUHJvbWlzZSDlgLznqb/pgI8iKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJwIiwgW192bS5fdigi55yL5LiL6Z2i5L6L5a2Q77yaIildKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIiB9LCBbCiAgICAgICAgX2MoInByZSIsIHsgcHJlOiB0cnVlLCBhdHRyczogeyBjbGFzczogImxhbmd1YWdlLXRleHQiIH0gfSwgWwogICAgICAgICAgX2MoImNvZGUiLCBbCiAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAiY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZXNvbHZlKCdsdWNhcycpXG4gIH0sIDIwMDApXG59KVxuXG5cbnByb21pc2UudGhlbihudWxsKVxuLnRoZW4oZGF0YSA9PiB7XG4gIGNvbnNvbGUubG9nKGRhdGEpXG59KVxuIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoIui/meauteS7o+eggeWwhuS8muWcqCAyIOenkuWQjui+k+WHuu+8mmx1Y2Fz44CC6L+Z5bCx5pivIFByb21pc2Ug56m/6YCP546w6LGh77yaIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoCiAgICAgICAgICAi57uZIC50aGVuKCkg5Ye95pWw5Lyg6YCS6Z2e5Ye95pWw5YC85L2c5Li65YW25Y+C5pWw5pe277yM5a6e6ZmF5LiK5Lya6KKr6Kej5p6Q5oiQIC50aGVuKG51bGwp77yM6L+Z5pe25YCZ55qE6KGo546w5bqU6K+l5piv77ya5LiK5LiA5LiqIHByb21pc2Ug5a+56LGh55qE57uT5p6c6L+b6KGM4oCc56m/6YCP4oCd77yM5aaC5p6c5Zyo5ZCO6Z2i6ZO+5byP6LCD55So5LuN5a2Y5Zyo56ys5LqM5LiqIC50aGVuKCkg5Ye95pWw5pe277yM5bCG5Lya6I635Y+W6KKr56m/6YCP5LiL5p2l55qE57uT5p6c44CCIgogICAgICAgICkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFtfdm0uX3YoIuWAvOepv+mAj+S7o+eggeWunueOsO+8miIpXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImxhbmd1YWdlLSBleHRyYS1jbGFzcyIgfSwgWwogICAgICAgIF9jKCJwcmUiLCB7IHByZTogdHJ1ZSwgYXR0cnM6IHsgY2xhc3M6ICJsYW5ndWFnZS10ZXh0IiB9IH0sIFsKICAgICAgICAgIF9jKCJjb2RlIiwgWwogICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgIlByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbmZ1bGZpbGxlZCA9IEZ1bmN0aW9uLnByb3RvdHlwZSwgb25yZWplY3RlZCA9IEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAvLyDlpoLmnpwgdGhlbiDmlrnms5XmjqXmlLbnmoTkuI3mmK/lh73mlbDvvIzliJnpu5jorqTotYvkuojnm7TmjqXov5Tlm57lhbblgLzlh73mlbDvvIzku47ogIzlrp7njrDnqb/pgI9cbiAgb25mdWxmaWxsZWQgPSB0eXBlb2Ygb25mdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbmZ1bGZpbGxlZCA6IGRhdGEgPT4gZGF0YVxuICBvbnJlamVjdGVkID0gdHlwZW9mIG9ucmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvbnJlamVjdGVkIDogZXJyb3IgPT4geyB0aHJvdyBlcnJvciB9XG5cbiAgICAvLyAuLi5cbn1cbiIKICAgICAgICAgICAgKQogICAgICAgICAgXSkKICAgICAgICBdKQogICAgICBdKSwKICAgICAgX2MoImgzIiwgeyBhdHRyczogeyBpZDogIuW8guW4uOWkhOeQhiIgfSB9LCBbCiAgICAgICAgX2MoCiAgICAgICAgICAiYSIsCiAgICAgICAgICB7IHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsIGF0dHJzOiB7IGhyZWY6ICIj5byC5bi45aSE55CGIiB9IH0sCiAgICAgICAgICBbX3ZtLl92KCIjIildCiAgICAgICAgKSwKICAgICAgICBfdm0uX3YoIiDlvILluLjlpITnkIYiKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJwIiwgWwogICAgICAgIF92bS5fdigiUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gg5Y+v5Lul6L+b6KGM5byC5bi45o2V6I6377yM5a6D55qE5YW45Z6L55So5rOV77yaIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImxhbmd1YWdlLSBleHRyYS1jbGFzcyIgfSwgWwogICAgICAgIF9jKCJwcmUiLCB7IHByZTogdHJ1ZSwgYXR0cnM6IHsgY2xhc3M6ICJsYW5ndWFnZS10ZXh0IiB9IH0sIFsKICAgICAgICAgIF9jKCJjb2RlIiwgWwogICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgImNvbnN0IHByb21pc2UxID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlamVjdCgnbHVjYXMgZXJyb3InKVxuICB9LCAyMDAwKVxufSlcblxucHJvbWlzZTEudGhlbihkYXRhID0+IHtcbiAgY29uc29sZS5sb2coZGF0YSlcbn0pLmNhdGNoKGVycm9yID0+IHtcbiAgY29uc29sZS5sb2coZXJyb3IpXG59KVxuIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygicCIsIFtfdm0uX3YoIuS8muWcqCAyIOenkuWQjui+k+WHuu+8mmx1Y2FzIGVycm9y44CCIildKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJwIiwgW192bS5fdigi5YW25a6e5Zyo6L+Z56eN5Zy65pmv5LiL77yM5a6D5bCx55u45b2T5LqO77yaIildKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIiB9LCBbCiAgICAgICAgX2MoInByZSIsIHsgcHJlOiB0cnVlLCBhdHRyczogeyBjbGFzczogImxhbmd1YWdlLXRleHQiIH0gfSwgWwogICAgICAgICAgX2MoImNvZGUiLCBbCiAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAiUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbihjYXRjaEZ1bmMpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBjYXRjaEZ1bmMpXG59XG4iCiAgICAgICAgICAgICkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF9jKCJwIiwgWwogICAgICAgIF92bS5fdigKICAgICAgICAgICLlm6DkuLrmiJHku6znn6XpgZMgLnRoZW4oKSDmlrnms5XnmoTnrKzkuozkuKrlj4LmlbDkuZ/mmK/ov5vooYzlvILluLjmjZXojrfnmoTvvIzpgJrov4fov5nkuKrnibnmgKfvvIzmiJHku6zmr5TovoPnroDljZXlnLDlrp7njrDkuoYgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2jjgIIiCiAgICAgICAgKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJoMyIsIHsgYXR0cnM6IHsgaWQ6ICJwcm9taXNlLXByb3RvdHlwZS1yZXNvbHZlLeWunueOsCIgfSB9LCBbCiAgICAgICAgX2MoCiAgICAgICAgICAiYSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICAgICAgICAgIGF0dHJzOiB7IGhyZWY6ICIjcHJvbWlzZS1wcm90b3R5cGUtcmVzb2x2ZS3lrp7njrAiIH0KICAgICAgICAgIH0sCiAgICAgICAgICBbX3ZtLl92KCIjIildCiAgICAgICAgKSwKICAgICAgICBfdm0uX3YoIiBQcm9taXNlLnByb3RvdHlwZS5yZXNvbHZlIOWunueOsCIpCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbX3ZtLl92KCLor7fnnIvlrp7kvovvvJoiKV0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiIH0sIFsKICAgICAgICBfYygicHJlIiwgeyBwcmU6IHRydWUsIGF0dHJzOiB7IGNsYXNzOiAibGFuZ3VhZ2UtdGV4dCIgfSB9LCBbCiAgICAgICAgICBfYygiY29kZSIsIFsKICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICJQcm9taXNlLnJlc29sdmUoJ2RhdGEnKS50aGVuKGRhdGEgPT4ge1xuICBjb25zb2xlLmxvZyhkYXRhKVxufSlcbmNvbnNvbGUubG9nKDEpXG4iCiAgICAgICAgICAgICkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF9jKCJwIiwgW192bS5fdigi5YWI6L6T5Ye6IDEg5YaN6L6T5Ye6IGRhdGHjgIIiKV0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbX3ZtLl92KCLpgqPkuYjlrp7njrAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKSDkuZ/lvojnroDljZXvvJoiKV0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiIH0sIFsKICAgICAgICBfYygicHJlIiwgeyBwcmU6IHRydWUsIGF0dHJzOiB7IGNsYXNzOiAibGFuZ3VhZ2UtdGV4dCIgfSB9LCBbCiAgICAgICAgICBfYygiY29kZSIsIFsKICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICJQcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlc29sdmUodmFsdWUpXG4gIH0pXG59XG4iCiAgICAgICAgICAgICkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF9jKCJwIiwgWwogICAgICAgIF92bS5fdigi6aG65bim5a6e546w5LiA5LiqICIpLAogICAgICAgIF9jKCJzdHJvbmciLCBbX3ZtLl92KCJQcm9taXNlLnJlamVjdCh2YWx1ZSkiKV0pLAogICAgICAgIF92bS5fdigi77yaIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImxhbmd1YWdlLSBleHRyYS1jbGFzcyIgfSwgWwogICAgICAgIF9jKCJwcmUiLCB7IHByZTogdHJ1ZSwgYXR0cnM6IHsgY2xhc3M6ICJsYW5ndWFnZS10ZXh0IiB9IH0sIFsKICAgICAgICAgIF9jKCJjb2RlIiwgWwogICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgIlByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZWplY3QodmFsdWUpXG4gIH0pXG59XG4iCiAgICAgICAgICAgICkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF9jKCJoMiIsIHsgYXR0cnM6IHsgaWQ6ICLmgLvnu5MiIH0gfSwgWwogICAgICAgIF9jKCJhIiwgeyBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLCBhdHRyczogeyBocmVmOiAiI+aAu+e7kyIgfSB9LCBbCiAgICAgICAgICBfdm0uX3YoIiMiKQogICAgICAgIF0pLAogICAgICAgIF92bS5fdigiIOaAu+e7kyIpCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbX3ZtLl92KCLmnIDlkI7miorlrozmlbTku6PnoIHotLTlh7rvvJoiKV0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImRldGFpbHMiLCBbCiAgICAgICAgX2MoInN1bW1hcnkiLCBbX3ZtLl92KCIg54K55Ye75bGV5byA5a6M5pW05Luj56CBICIpXSksCiAgICAgICAgX3ZtLl92KCIgIiksCiAgICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiIH0sIFsKICAgICAgICAgIF9jKCJwcmUiLCBbCiAgICAgICAgICAgIF9jKCJjb2RlIiwgWwogICAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAgICJmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gIHRoaXMuc3RhdHVzID0gJ3BlbmRpbmcnXG4gIHRoaXMudmFsdWUgPSBudWxsXG4gIHRoaXMucmVhc29uID0gbnVsbFxuICB0aGlzLm9uRnVsZmlsbGVkQXJyYXkgPSBbXVxuICB0aGlzLm9uUmVqZWN0ZWRBcnJheSA9IFtdXG5cbiAgY29uc3QgcmVzb2x2ZSA9IHZhbHVlID0+IHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gdmFsdWUudGhlbihyZXNvbHZlLCByZWplY3QpXG4gICAgfVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAncGVuZGluZycpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gICAgICAgIHRoaXMuc3RhdHVzID0gJ2Z1bGZpbGxlZCdcblxuICAgICAgICB0aGlzLm9uRnVsZmlsbGVkQXJyYXkuZm9yRWFjaChmdW5jID0+IHtcbiAgICAgICAgICBmdW5jKHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjb25zdCByZWplY3QgPSByZWFzb24gPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAncGVuZGluZycpIHtcbiAgICAgICAgdGhpcy5yZWFzb24gPSByZWFzb25cbiAgICAgICAgdGhpcy5zdGF0dXMgPSAncmVqZWN0ZWQnXG5cbiAgICAgICAgdGhpcy5vblJlamVjdGVkQXJyYXkuZm9yRWFjaChmdW5jID0+IHtcbiAgICAgICAgICBmdW5jKHJlYXNvbilcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cblxuICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdClcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpXG4gICAgfVxufVxuXG5jb25zdCByZXNvbHZlUHJvbWlzZSA9IChwcm9taXNlMiwgcmVzdWx0LCByZXNvbHZlLCByZWplY3QpID0+IHtcbiAgLy8g5b2TIHJlc3VsdCDlkowgcHJvbWlzZTIg55u4562J5pe277yM5Lmf5bCx5piv6K+0IG9uZnVsZmlsbGVkIOi/lOWbniBwcm9taXNlMiDml7bvvIzov5vooYwgcmVqZWN0XG4gIGlmIChyZXN1bHQgPT09IHByb21pc2UyKSB7XG4gICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdlcnJvciBkdWUgdG8gY2lyY3VsYXIgcmVmZXJlbmNlJykpXG4gIH1cblxuICAvLyDmmK/lkKblt7Lnu4/miafooYzov4cgb25mdWxmaWxsZWQg5oiW6ICFIG9ucmVqZWN0ZWRcbiAgbGV0IGNvbnN1bWVkID0gZmFsc2VcbiAgbGV0IHRoZW5hYmxlXG5cbiAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICByZXN1bHQudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UyLCBkYXRhLCByZXNvbHZlLCByZWplY3QpXG4gICAgICB9LCByZWplY3QpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC50aGVuKHJlc29sdmUsIHJlamVjdClcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICBsZXQgaXNDb21wbGV4UmVzdWx0ID0gdGFyZ2V0ID0+ICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSAmJiAodGFyZ2V0ICE9PSBudWxsKVxuICAvLyDlpoLmnpzov5Tlm57nmoTmmK/nlpHkvLwgUHJvbWlzZSDnsbvlnotcbiAgaWYgKGlzQ29tcGxleFJlc3VsdChyZXN1bHQpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoZW5hYmxlID0gcmVzdWx0LnRoZW5cbiAgICAgIC8vIOWmguaenOi/lOWbnueahOaYryBQcm9taXNlIOexu+Wei++8jOWFt+aciSB0aGVuIOaWueazlVxuICAgICAgaWYgKHR5cGVvZiB0aGVuYWJsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGVuYWJsZS5jYWxsKHJlc3VsdCwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN1bWVkID0gdHJ1ZVxuXG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVQcm9taXNlKHByb21pc2UyLCBkYXRhLCByZXNvbHZlLCByZWplY3QpXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGNvbnN1bWVkKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3VtZWQgPSB0cnVlXG5cbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHJlc3VsdClcbiAgICAgIH1cblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgaWYgKGNvbnN1bWVkKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3VtZWQgPSB0cnVlXG4gICAgICByZXR1cm4gcmVqZWN0KGUpXG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiByZXNvbHZlKHJlc3VsdClcbiAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgb25mdWxmaWxsZWQgPSB0eXBlb2Ygb25mdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbmZ1bGZpbGxlZCA6IGRhdGEgPT4gZGF0YVxuICBvbnJlamVjdGVkID0gdHlwZW9mIG9ucmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvbnJlamVjdGVkIDogZXJyb3IgPT4ge3Rocm93IGVycm9yfVxuXG4gIC8vIHByb21pc2UyIOWwhuS9nOS4uiB0aGVuIOaWueazleeahOi/lOWbnuWAvFxuICBsZXQgcHJvbWlzZTJcblxuICBpZiAodGhpcy5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2UyID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8g6L+Z5Liq5paw55qEIHByb21pc2UyIHJlc29sdmVkIOeahOWAvOS4uiBvbmZ1bGZpbGxlZCDnmoTmiafooYznu5PmnpxcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gb25mdWxmaWxsZWQodGhpcy52YWx1ZSlcbiAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlMiwgcmVzdWx0LCByZXNvbHZlLCByZWplY3QpXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgIHJlamVjdChlKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cbiAgaWYgKHRoaXMuc3RhdHVzID09PSAncmVqZWN0ZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2UyID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8g6L+Z5Liq5paw55qEIHByb21pc2UyIHJlamVjdCDnmoTlgLzkuLogb25yZWplY3RlZCDnmoTmiafooYznu5PmnpxcbiAgICAgICAgIGxldCByZXN1bHQgPSBvbnJlamVjdGVkKHRoaXMucmVhc29uKVxuICAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZTIsIHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICByZWplY3QoZSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG4gIGlmICh0aGlzLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgcmV0dXJuIHByb21pc2UyID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5vbkZ1bGZpbGxlZEFycmF5LnB1c2godmFsdWUgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBvbmZ1bGZpbGxlZCh2YWx1ZSlcbiAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlMiwgcmVzdWx0LCByZXNvbHZlLCByZWplY3QpXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZSlcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgdGhpcy5vblJlamVjdGVkQXJyYXkucHVzaChyZWFzb24gPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBvbnJlamVjdGVkKHJlYXNvbilcbiAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlMiwgcmVzdWx0LCByZXNvbHZlLCByZWplY3QpXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZSlcbiAgICAgICAgfVxuICAgICAgfSkgICAgICBcbiAgICB9KVxuICB9XG59XG5cblByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24oY2F0Y2hGdW5jKSB7XG4gIHJldHVybiB0aGlzLnRoZW4obnVsbCwgY2F0Y2hGdW5jKVxufVxuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlc29sdmUodmFsdWUpXG4gIH0pXG59XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZWplY3QodmFsdWUpXG4gIH0pXG59XG4iCiAgICAgICAgICAgICAgKQogICAgICAgICAgICBdKQogICAgICAgICAgXSkKICAgICAgICBdKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJoMiIsIHsgYXR0cnM6IHsgaWQ6ICLlj4LogIPmlofnjK4iIH0gfSwgWwogICAgICAgIF9jKAogICAgICAgICAgImEiLAogICAgICAgICAgeyBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLCBhdHRyczogeyBocmVmOiAiI+WPguiAg+aWh+eMriIgfSB9LAogICAgICAgICAgW192bS5fdigiIyIpXQogICAgICAgICksCiAgICAgICAgX3ZtLl92KCIg5Y+C6ICD5paH54yuIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygidWwiLCBbCiAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgX3ZtLl92KCJbeF0gIiksCiAgICAgICAgICBfYygKICAgICAgICAgICAgImEiLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIGhyZWY6CiAgICAgICAgICAgICAgICAgICJodHRwczovL21lbmdlcmE4OC5naXRodWIuaW8vMjAxNy8wNS8xOC9Qcm9taXNlJUU1JThFJTlGJUU3JTkwJTg2JUU4JUE3JUEzJUU2JTlFJTkwLyIsCiAgICAgICAgICAgICAgICB0YXJnZXQ6ICJfYmxhbmsiLAogICAgICAgICAgICAgICAgcmVsOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFtfdm0uX3YoIjMw5YiG6ZKf77yM6K6p5L2g5b275bqV5piO55m9UHJvbWlzZeWOn+eQhiIpLCBfYygiT3V0Ym91bmRMaW5rIildLAogICAgICAgICAgICAxCiAgICAgICAgICApCiAgICAgICAgXSksCiAgICAgICAgX3ZtLl92KCIgIiksCiAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgX3ZtLl92KCJbeF0gIiksCiAgICAgICAgICBfYygKICAgICAgICAgICAgImEiLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIGhyZWY6ICJodHRwczovL3RpbWUuZ2Vla2Jhbmcub3JnL2NvbHVtbi9hcnRpY2xlLzEzNjg5NSIsCiAgICAgICAgICAgICAgICB0YXJnZXQ6ICJfYmxhbmsiLAogICAgICAgICAgICAgICAgcmVsOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFtfdm0uX3YoIua1j+iniOWZqOW3peS9nOWOn+eQhuS4juWunui3tSIpLCBfYygiT3V0Ym91bmRMaW5rIildLAogICAgICAgICAgICAxCiAgICAgICAgICApCiAgICAgICAgXSksCiAgICAgICAgX3ZtLl92KCIgIiksCiAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgX3ZtLl92KCJbeF0gIiksCiAgICAgICAgICBfYygKICAgICAgICAgICAgImEiLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIGhyZWY6CiAgICAgICAgICAgICAgICAgICJodHRwczovL2dpdGJvb2suY24vZ2l0Y2hhdC9jb2x1bW4vNWM5MWM4MTM5NjhiMWQ2NGIxZTA4ZmRlL3RvcGljLzVjYmJlOTQ2YmJiYmE4MDg2MWEzNWJmYyIsCiAgICAgICAgICAgICAgICB0YXJnZXQ6ICJfYmxhbmsiLAogICAgICAgICAgICAgICAgcmVsOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFtfdm0uX3YoIuWJjeerr+W8gOWPkeaguOW/g+efpeivhui/m+mYtiIpLCBfYygiT3V0Ym91bmRMaW5rIildLAogICAgICAgICAgICAxCiAgICAgICAgICApCiAgICAgICAgXSkKICAgICAgXSkKICAgIF0KICApCn0KdmFyIHN0YXRpY1JlbmRlckZucyA9IFtdCnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZQoKZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfQ=="}]}