{"remainingRequest":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\workspace\\play-around\\class-three-forever\\node_modules\\vuepress-theme-melodydl\\lib\\plugins\\blog-vuepress\\enhanceAppFile.js","dependencies":[{"path":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\vuepress-theme-melodydl\\lib\\plugins\\blog-vuepress\\enhanceAppFile.js","mtime":1623086056389},{"path":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623086053132},{"path":"D:\\workspace\\play-around\\class-three-forever\\node_modules\\babel-loader\\lib\\index.js","mtime":1623086053008}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi93b3Jrc3BhY2UvcGxheS1hcm91bmQvY2xhc3MtdGhyZWUtZm9yZXZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkQ6L3dvcmtzcGFjZS9wbGF5LWFyb3VuZC9jbGFzcy10aHJlZS1mb3JldmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IHsgZmluZFBhZ2VCeUtleSB9IGZyb20gJ0BhcHAvdXRpbCc7CmltcG9ydCB0YWdNZXRhIGZyb20gJ0BkeW5hbWljL3RhZyc7CmltcG9ydCBjYXRlZ29yeU1ldGEgZnJvbSAnQGR5bmFtaWMvY2F0ZWdvcnknOwoKdmFyIGNsYXNzaWZpYWJsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gY2xhc3NpZmlhYmxlKG1ldGFNYXAsIHBhZ2VzKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBjbGFzc2lmaWFibGUpOwoKICAgIHRoaXMuX21ldGFNYXAgPSBPYmplY3QuYXNzaWduKHt9LCBtZXRhTWFwKTsKICAgIE9iamVjdC5rZXlzKHRoaXMuX21ldGFNYXApLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIHBhZ2VLZXlzID0gX3RoaXMuX21ldGFNYXBbbmFtZV0ucGFnZUtleXM7CiAgICAgIF90aGlzLl9tZXRhTWFwW25hbWVdLnBvc3RzID0gcGFnZUtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gZmluZFBhZ2VCeUtleShwYWdlcywga2V5KTsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIF9jcmVhdGVDbGFzcyhjbGFzc2lmaWFibGUsIFt7CiAgICBrZXk6ICJsZW5ndGgiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9tZXRhTWFwKS5sZW5ndGg7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFwIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fbWV0YU1hcDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsaXN0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy50b0FycmF5KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9BcnJheSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9BcnJheSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdGFncyA9IFtdOwogICAgICBPYmplY3Qua2V5cyh0aGlzLl9tZXRhTWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgdmFyIF90aGlzMiRfbWV0YU1hcCRuYW1lID0gX3RoaXMyLl9tZXRhTWFwW25hbWVdLAogICAgICAgICAgICBwb3N0cyA9IF90aGlzMiRfbWV0YU1hcCRuYW1lLnBvc3RzLAogICAgICAgICAgICBwYXRoID0gX3RoaXMyJF9tZXRhTWFwJG5hbWUucGF0aDsKICAgICAgICB0YWdzLnB1c2goewogICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgIHBvc3RzOiBwb3N0cywKICAgICAgICAgIHBhdGg6IHBhdGgKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0YWdzOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEl0ZW1CeU5hbWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEl0ZW1CeU5hbWUobmFtZSkgewogICAgICByZXR1cm4gdGhpcy5fbWV0YU1hcFtuYW1lXTsKICAgIH0KICB9XSk7CgogIHJldHVybiBjbGFzc2lmaWFibGU7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoX3JlZikgewogIHZhciBWdWUgPSBfcmVmLlZ1ZTsKICBWdWUubWl4aW4oewogICAgY29tcHV0ZWQ6IHsKICAgICAgJHRhZ3M6IGZ1bmN0aW9uICR0YWdzKCkgewogICAgICAgIHZhciBwYWdlcyA9IHRoaXMuJHNpdGUucGFnZXM7CiAgICAgICAgdmFyIHRhZ3MgPSBuZXcgY2xhc3NpZmlhYmxlKHRhZ01ldGEsIHBhZ2VzKTsKICAgICAgICByZXR1cm4gdGFnczsKICAgICAgfSwKICAgICAgJGNhdGVnb3JpZXM6IGZ1bmN0aW9uICRjYXRlZ29yaWVzKCkgewogICAgICAgIHZhciBwYWdlcyA9IHRoaXMuJHNpdGUucGFnZXM7CiAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBuZXcgQ2xhc3NpZmlhYmxlKGNhdGVnb3J5TWV0YSwgcGFnZXMpOwogICAgICAgIHJldHVybiBjYXRlZ29yaWVzOwogICAgICB9CiAgICB9CiAgfSk7Cn0pOw=="},{"version":3,"sources":["D:/workspace/play-around/class-three-forever/node_modules/vuepress-theme-melodydl/lib/plugins/blog-vuepress/enhanceAppFile.js"],"names":["findPageByKey","tagMeta","categoryMeta","classifiable","metaMap","pages","_metaMap","Object","assign","keys","forEach","name","pageKeys","posts","map","key","length","toArray","tags","path","push","Vue","mixin","computed","$tags","$site","$categories","categories","Classifiable"],"mappings":";;;;;;AAAA,SAASA,aAAT,QAA8B,WAA9B;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;;IAEMC,Y;AACJ,wBAAYC,OAAZ,EAAqBC,KAArB,EAA4B;AAAA;;AAAA;;AAC1B,SAAKC,QAAL,GAAgBC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,OAAlB,CAAhB;AACAG,IAAAA,MAAM,CAACE,IAAP,CAAY,KAAKH,QAAjB,EAA2BI,OAA3B,CAAmC,UAAAC,IAAI,EAAI;AACzC,UAAQC,QAAR,GAAqB,KAAI,CAACN,QAAL,CAAcK,IAAd,CAArB,CAAQC,QAAR;AACA,MAAA,KAAI,CAACN,QAAL,CAAcK,IAAd,EAAoBE,KAApB,GAA4BD,QAAQ,CAACE,GAAT,CAAa,UAAAC,GAAG;AAAA,eAAIf,aAAa,CAACK,KAAD,EAAQU,GAAR,CAAjB;AAAA,OAAhB,CAA5B;AACD,KAHD;AAID;;;;SAED,eAAc;AACZ,aAAOR,MAAM,CAACE,IAAP,CAAY,KAAKH,QAAjB,EAA2BU,MAAlC;AACD;;;SAED,eAAW;AACT,aAAO,KAAKV,QAAZ;AACD;;;SAED,eAAY;AACV,aAAO,KAAKW,OAAL,EAAP;AACD;;;WAED,mBAAW;AAAA;;AACT,UAAMC,IAAI,GAAG,EAAb;AACAX,MAAAA,MAAM,CAACE,IAAP,CAAY,KAAKH,QAAjB,EAA2BI,OAA3B,CAAmC,UAAAC,IAAI,EAAI;AACzC,mCAAwB,MAAI,CAACL,QAAL,CAAcK,IAAd,CAAxB;AAAA,YAAQE,KAAR,wBAAQA,KAAR;AAAA,YAAeM,IAAf,wBAAeA,IAAf;AACAD,QAAAA,IAAI,CAACE,IAAL,CAAU;AAAET,UAAAA,IAAI,EAAJA,IAAF;AAAQE,UAAAA,KAAK,EAALA,KAAR;AAAeM,UAAAA,IAAI,EAAJA;AAAf,SAAV;AACD,OAHD;AAIA,aAAOD,IAAP;AACD;;;WAED,uBAAeP,IAAf,EAAqB;AACnB,aAAO,KAAKL,QAAL,CAAcK,IAAd,CAAP;AACD;;;;;;AAIH,gBAAe,gBAAW;AAAA,MAATU,GAAS,QAATA,GAAS;AACvBA,EAAAA,GAAG,CAACC,KAAJ,CAAU;AACTC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,KADQ,mBACA;AACN,YAAQnB,KAAR,GAAkB,KAAKoB,KAAvB,CAAQpB,KAAR;AACA,YAAMa,IAAI,GAAG,IAAIf,YAAJ,CAAiBF,OAAjB,EAA0BI,KAA1B,CAAb;AACA,eAAOa,IAAP;AACD,OALO;AAMRQ,MAAAA,WANQ,yBAMM;AACZ,YAAQrB,KAAR,GAAkB,KAAKoB,KAAvB,CAAQpB,KAAR;AACA,YAAMsB,UAAU,GAAG,IAAIC,YAAJ,CAAiB1B,YAAjB,EAA+BG,KAA/B,CAAnB;AACA,eAAOsB,UAAP;AACD;AAVO;AADD,GAAV;AAcF,CAfD","sourcesContent":["import { findPageByKey } from '@app/util'\r\nimport tagMeta from '@dynamic/tag'\r\nimport categoryMeta from '@dynamic/category'\r\n\r\nclass classifiable {\r\n  constructor(metaMap, pages) {\r\n    this._metaMap = Object.assign({}, metaMap)\r\n    Object.keys(this._metaMap).forEach(name => {\r\n      const { pageKeys } = this._metaMap[name]\r\n      this._metaMap[name].posts = pageKeys.map(key => findPageByKey(pages, key))\r\n    })\r\n  }\r\n\r\n  get length () {\r\n    return Object.keys(this._metaMap).length\r\n  }\r\n\r\n  get map () {\r\n    return this._metaMap\r\n  }\r\n\r\n  get list () {\r\n    return this.toArray()\r\n  }\r\n\r\n  toArray () {\r\n    const tags = []\r\n    Object.keys(this._metaMap).forEach(name => {\r\n      const { posts, path } = this._metaMap[name]\r\n      tags.push({ name, posts, path })\r\n    })\r\n    return tags\r\n  }\r\n\r\n  getItemByName (name) {\r\n    return this._metaMap[name]\r\n  }\r\n\r\n}\r\n\r\nexport default ({Vue}) => {\r\n   Vue.mixin({\r\n    computed: {\r\n      $tags() {\r\n        const { pages } = this.$site\r\n        const tags = new classifiable(tagMeta, pages)\r\n        return tags\r\n      },\r\n      $categories() {\r\n        const { pages } = this.$site\r\n        const categories = new Classifiable(categoryMeta, pages)\r\n        return categories\r\n      }\r\n    }\r\n  })\r\n}"]}]}